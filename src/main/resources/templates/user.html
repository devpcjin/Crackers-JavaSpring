<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header :: header"></th:block>
    <th:block th:replace="fragments/userHeader :: userHeader"></th:block>
</head>
<body>
<nav th:replace="fragments/navbar :: navbar"></nav>
<!--{#프로필 영역#}-->
<section class="hero is-white">
    <div class="hero-body profile-area">
        <article class="media">
            <figure class="media-left" style="align-self: center">
                <a class="image is-96x96" th:href="${userInfo.pic}">
                    <img class="is-rounded" th:src="${userInfo.pic}">
                </a>
            </figure>
            <div class="media-content">
                <div class="content">
                    <p>
                        <strong id="user_name"><span th:text= "${userInfo.nickname}"></span></strong>
                        <small id="user_mail"><span th:text= "${userInfo.email}"></span></small>
                        <br>
                        <span th:text= "${userInfo.statusMessage}"></span>
                    </p>
                </div>

            </div>
        </article>
    </div>


    <nav th:if="${user.get().getId() == userInfo.id}" id="btns-me" class="level is-mobile nav-btn" style="margin-top:2rem">
        <a class="button level-item has-text-centered is-sparta" aria-label="edit"
           onclick='$("#modal-edit").addClass("is-active")'>
            Edit Profile&nbsp;&nbsp;&nbsp;<span class="icon is-small"><i class="fa fa-pencil"
                                                                         aria-hidden="true"></i></span>
        </a>

        <a class="button level-item has-text-centered is-sparta" aria-label="edit_marker"
           onclick='$("#modal-edit_marker").addClass("is-active")'>
            Edit Marker&nbsp&nbsp<span class="icon is-small"><i class="fa fa-map-marker"
                                                                aria-hidden="true"></i></span>
        </a>
    </nav>

    <div class="modal" id="modal-edit">
        <div class="modal-background" onclick='$("#modal-edit").removeClass("is-active")'></div>
        <div class="modal-content">
            <div class="box">
                <article class="media">
                    <div class="media-content">
                        <div class="field">
                            <label class="label">별명</label>

                            <div class="field has-addons">
                                <div class="control has-icons-left" style="width:100%">
                                    <input id="input-user_name" class="input" type="text" placeholder="별명"
                                           value="">
                                    <span class="icon is-small is-left"><i class="fa fa-user"></i></span>
                                </div>
                                <div id="btn-check-dup-username" class="control">
                                    <button class="button dup-btn" onclick="check_user_dup()">중복확인</button>
                                </div>
                            </div>
                        </div>
                        <p id="help-name" class="help">별명을 입력해주세요.</p>
                        <p id="help-name-login" class="help is-danger"></p>
                        <div class="field">
                            <label class="label" for="input-pic">프로필 사진</label>
                            <div class="control is-expanded">
                                <div class="file has-name">
                                    <label class="file-label" style="width:100%">
                                        <input id="input-pic" class="file-input" type="file" name="resume" >
                                        <span class="file-cta">
                                        <span class="file-icon"><i class="fa fa-upload"></i></span>
                                        <span class="file-label">파일 선택</span>
                                        </span>
                                        <span id="profile-file-name" class="file-name"
                                              style="width:100%;max-width:100%"></span>
                                    </label>
                                </div>

                            </div>
                        </div>
                        <div class="field">
                            <label class="label" for="textarea-about">자기소개</label>
                            <p class="control">
                        <textarea id="textarea-about" class="textarea"
                                  placeholder="자기소개하기"></textarea>
                            </p>
                        </div>
                        <nav class="level is-mobile">
                            <div class="level-left">

                            </div>
                            <div class="level-right">
                                <div class="level-item">
                                    <a class="button is-sparta" th:onclick="'update_profile('+${user.get().getId()}+')'">업데이트</a>
                                </div>
                                <div class="level-item">
                                    <a class="button is-sparta is-outlined"
                                       onclick='$("#modal-edit").removeClass("is-active")'>취소</a>
                                </div>
                            </div>
                        </nav>
                    </div>
                </article>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close"
                onclick='$("#modal-edit").removeClass("is-active")'></button>
    </div>

    <!--    {#마커 수정 모달#}-->
    <div class="modal" id="modal-edit_marker">
        <div class="modal-background" onclick='$("#modal-edit_marker").removeClass("is-active")'></div>
        <div class="modal-content">
            <div class="box">
                <article class="media">
                    <div class="media-content">
                        <div class="field">
                            <label class="label" for="input-marker">마커 이미지</label>
                            <div class="control is-expanded">
                                <div class="file has-name">
                                    <label class="file-label" style="width:100%">
                                        <input id="input-marker" class="file-input" type="file" name="resume">
                                        <span class="file-cta">
                                        <span class="file-icon"><i class="fa fa-upload"></i></span>
                                        <span class="file-label">파일 선택</span>
                                        </span>
                                        <span id="file-name" class="file-name"
                                              style="width:100%;max-width:100%">{{ user_info.marker_pic }}</span>
                                    </label>
                                </div>

                            </div>
                        </div>
                        <nav class="level is-mobile">
                            <div class="level-left">

                            </div>
                            <div class="level-right">
                                <div class="level-item">
                                    <a class="button is-sparta" onclick="update_marker()">업데이트</a>
                                </div>
                                <div class="level-item">
                                    <a class="button is-sparta is-outlined"
                                       onclick='$("#modal-edit_marker").removeClass("is-active")'>취소</a>
                                </div>
                            </div>
                        </nav>
                    </div>
                </article>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close"
                onclick='$("#modal-edit").removeClass("is-active")'></button>
    </div>
</section>
<section class="modal-section">
    <div class="modal" id="modal-post">
        <div class="modal-background" onclick='$("#modal-post").removeClass("is-active")'></div>
        <div class="modal-content">
            <div class="box">
                <article class="media">
                    <div class="media-content">
                        <div class="field modal-list" id="place_list"></div>
                        <nav class="level is-mobile">
                            <div class="level-left">

                            </div>
                            <div class="level-right">
                                <div class="level-item">
                                    <a class="button save-button" onclick="save_place()">등록하기</a>
                                </div>
                                <div class="level-item">
                                    <a class="button cancel-button"
                                       onclick='$("#modal-post").removeClass("is-active")'>취소</a>
                                </div>
                            </div>
                        </nav>
                    </div>
                </article>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close"
                onclick='$("#modal-post").removeClass("is-active")'></button>
    </div>
</section>
<section class="user comment-section">
    <div class="user map-placelist">
        <div class="media-content">
            <div class="field">
                <p class="control">
                    <input id="input-post" class="input user place-input"
                           style="background-color: #FBF8F1; font-family: 'Gowun Batang', serif"
                           placeholder="맛집 이름을 입력하세요">
                    <button type="button" class="btn btn-primary user find-btn"
                            style="background-color: #DAB88B; border-color: #DAB88B; font-family: 'Gowun Batang', serif"
                            onclick='get_address();'>찾기
                    </button>
                </p>
            </div>
        </div>
        <div class="place-list" id="matjip-box">
            <div class="card" id="card-0">
                <div class="card-body">
                    <h5 class="card-title"><a href="#" class="matjip-title">혼가츠</a></h5>
                    <p class="card-text">지번 주소 : {{address}}</p>
                    <p class="card-text">도로명 주소 : {{road_address}}</p>
                    <p class="community-delete">
                        <button class="button is-success community-btn" onclick="location.href='{{커뮤니티로 이동}}'">커뮤니티
                        </button>&nbsp&nbsp&nbsp<button class="button is-danger delete-place-btn" onclick="{{저장된 목록 삭제}}">삭제</button>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<footer>
    <div th:replace="fragments/footer :: footer" />
</footer>

</body>
</html>