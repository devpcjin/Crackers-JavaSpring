<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:replace="fragments/header :: header"></th:block>
    <th:block th:replace="fragments/homeHeader :: homeHeader"></th:block>
</head>

<body>
<div class="user-info">
    <!--    GUEST 상태로 로그인   -->
    <p th:if="${user ==null}">
        <span class="user-name">GUEST님 환영합니다.</span>
        <button class="button crack-in-btn" th:onclick="|location.href='@{/login}'|">Crack IN</button>
    </p>
    <!--    로그인     -->
    <p th:if="${user !=null}">
        <span class="user-name">
        <a id="user_name" th:href="@{/user/{id}(id = ${user.getId()})}">
            <span th:text="${user.getNickname()}"></span>
            <span id="user_id" th:text="${user.getId()}"></span>
        </a>님 안녕하세요?
        </span>
        <button class="button crack-out-btn" onclick="sign_out()">Crack OUT</button>
    </p>
</div>

<!--메인 로고-->
<div class="logo-background">
    <section class="hero-body has-text-centered main-logo">
        <h1 class="title" style="font-style: italic">CRACKER</h1>
        <h3 class="subtitle">Share crumbs of every moment</h3>
    </section>
</div>

<section class="index map-section">
    <div id="map">
    </div>
    <div class="index map-placelist">
        <div class="place-search-area">
            <input id="input-post" class="input place-search-input-box"
                   placeholder="맛집 이름을 입력하세요">
            <button type="button" class="btn btn-primary find-btn"
                    onclick='get_address();'>찾기
            </button>
        </div>
        <div class="place-list" id="place-box">
            <!--      맛집 리스트 불러오기      -->
        </div>
    </div>
</section>

<!--검색목록 Modal-->
<section class="modal-section">
    <div class="modal" id="modal-post">
        <div class="modal-content">
            <div class="box">
                <div class="field modal-list" id="place_list"></div>
                <div class="level-right">
                    <div class="level-item">
                        <a class="button save-button" onclick="save_place()">등록하기</a>
                    </div>
                    <div class="level-item">
                        <a class="button cancel-button"
                           onclick='$("#modal-post").removeClass("is-active")'>취소</a>
                    </div>
                </div>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close"
                onclick='$("#modal-post").removeClass("is-active")'></button>
    </div>
</section>

<div class="row">
    <h1 class="blog-title" style="font-weight: bold">&nbsp&nbsp&nbsp
        <button class="previous" style="background-color: #F4DFBA; border-color: #CA965C">&#8249&#8249;</button>
        &nbsp......Trace of Crumbs......
        <button class="next" style="background-color: #F4DFBA; border-color: #CA965C">&#8250;&#8250;</button>
    </h1>
    <div class="blog-list column" id="blog-box"></div>
    <div class="blog-middle column" id="blog-box-middle"></div>
</div>

<footer>
    <div th:replace="fragments/footer :: footer"/>
</footer>

</body>
</html>